<!-- Trigger button example (put anywhere) -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#reportModal">
  Report content
</button>

<!-- templates/report/report_modal.html -->
<div class="modal fade" id="reportModal" tabindex="-1" aria-labelledby="reportModalTitle" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="reportModalTitle">Report content</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <form id="reportForm" method="POST" action="{% url 'reports:create' %}">
        {% csrf_token %}

        <!-- mode + target -->
        <input type="hidden" id="report-mode" value="create"> <!-- 'create' or 'edit' -->
        <input type="hidden" name="content_type" id="report-content-type">
        <input type="hidden" name="object_id" id="report-object-id">
        <input type="hidden" name="target_type" id="report-target-type">

        <div class="modal-body">
          <div class="mb-3">
            <label for="report-reason" class="form-label">Reason</label>
            <select name="reason" id="report-reason" required class="form-select">
              <option value="inappropriate">Inappropriate / Harassment</option>
              <option value="spam">Spam / Ads</option>
              <option value="false_info">False or Misleading Info</option>
              <option value="scam">Scam / Fraud</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="report-details" class="form-label">Details (optional)</label>
            <textarea name="details" id="report-details" rows="4" class="form-control" placeholder="Add context or evidence..."></textarea>
          </div>

          <p id="reportFeedback" class="small d-none"></p>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary" id="reportSubmitBtn">Submit</button>
        </div>
      </form>

    </div>
  </div>
</div>
